# 字符串

## 1.字符常量

> **'a'       'b'       'c'       '5'**

### 1.1 ASCII

ASCII 字符表上的数字 0~31 以及 127（共 33 个）分配给了控制字符，用于控制像打印机等一些外围设备：

|**二进制**|**十进制**|**十六进制**|**缩写**|**含义**|
| -----------| -----| ----| -----| -------------------------------------|
|0000 0000|0|00|NUL|空字符|
|0000 0001|1|01|SOH|标题开始|
|0000 0010|2|02|STX|文本开始|
|0000 0011|3|03|ETX|文本结束|
|0000 0100|4|04|EOT|传输结束|
|0000 0101|5|05|ENQ|请求|
|0000 0110|6|06|ACK|确认响应|
|0000 0111|7|07|BEL|响铃|
|0000 1000|8|08|BS|退格|
|0000 1001|9|09|HT|水平制表符|
|0000 1010|10|0A|LF|换行符|
|0000 1011|11|0B|VT|垂直制表符|
|0000 1100|12|0C|FF|换页符|
|0000 1101|13|0D|CR|回车键|
|0000 1110|14|0E|SO|取消变换（Shift out）|
|0000 1111|15|0F|SI|启动变换（Shift in）|
|0001 0000|16|10|DLE|数据链路转义|
|0001 0001|17|11|DC1|设备控制一（XON 激活软件速度控制）|
|0001 0010|18|12|DC2|设备控制二|
|0001 0011|19|13|DC3|设备控制三（XOFF 停用软件速度控制）|
|0001 0100|20|14|DC4|设备控制四|
|0001 0101|21|15|NAK|拒绝接收|
|0001 0110|22|16|SYN|同步空闲|
|0001 0111|23|17|ETB|区块传输结束|
|0001 1000|24|18|CAN|取消|
|0001 1001|25|19|EM|连接介质中断|
|0001 1010|26|1A|SUB|替换|
|0001 1011|27|1B|ESC|退出键|
|0001 1100|28|1C|FS|文件分区符|
|0001 1101|29|1D|GS|组群分隔符|
|0001 1110|30|1E|RS|记录分隔符|
|0001 1111|31|1F|US|单元分隔符|
||||||
|0111 1111|127|7F|DEL|删除|

字符表上的数字 32~126 分配给了能在键盘上找到的字符，当您查看或打印文档时就会出现：
|**二进制**|**十进制**|**十六进制**|**缩写**|**含义**|
|----------|-----|----|----------------|----|
| 00100000 | 32  | 20 | \(Space\)      | 空格 |
| 00100001 | 33  | 21 | \!             |    |
| 00100010 | 34  | 22 | "              |    |
| 00100011 | 35  | 23 | \#             |    |
| 00100100 | 36  | 24 | $              |    |
| 00100101 | 37  | 25 | %              |    |
| 00100110 | 38  | 26 | &              |    |
| 00100111 | 39  | 27 | '              |    |
| 00101000 | 40  | 28 | \(             |    |
| 00101001 | 41  | 29 | \)             |    |
| 00101010 | 42  | 2A | \*             |    |
| 00101011 | 43  | 2B | \+             |    |
| 00101100 | 44  | 2C | ,              |    |
| 00101101 | 45  | 2D | \-             |    |
| 00101110 | 46  | 2E | \.             |    |
| 00101111 | 47  | 2F | /              |    |
| 00110000 | 48  | 30 | 0              |    |
| 00110001 | 49  | 31 | 1              |    |
| 00110010 | 50  | 32 | 2              |    |
| 00110011 | 51  | 33 | 3              |    |
| 00110100 | 52  | 34 | 4              |    |
| 00110101 | 53  | 35 | 5              |    |
| 00110110 | 54  | 36 | 6              |    |
| 00110111 | 55  | 37 | 7              |    |
| 00111000 | 56  | 38 | 8              |    |
| 00111001 | 57  | 39 | 9              |    |
| 00111010 | 58  | 3A | :              |    |
| 00111011 | 59  | 3B | ;              |    |
| 00111100 | 60  | 3C | <              |    |
| 00111101 | 61  | 3D | =              |    |
| 00111110 | 62  | 3E | >              |    |
| 00111111 | 63  | 3F | ?              |    |
| 01000000 | 64  | 40 | @              |    |
| 01000001 | 65  | 41 | A              |    |
| 01000010 | 66  | 42 | B              |    |
| 01000011 | 67  | 43 | C              |    |
| 01000100 | 68  | 44 | D              |    |
| 01000101 | 69  | 45 | E              |    |
| 01000110 | 70  | 46 | F              |    |
| 01000111 | 71  | 47 | G              |    |
| 01001000 | 72  | 48 | H              |    |
| 01001001 | 73  | 49 | I              |    |
| 01001010 | 74  | 4A | J              |    |
| 01001011 | 75  | 4B | K              |    |
| 01001100 | 76  | 4C | L              |    |
| 01001101 | 77  | 4D | M              |    |
| 01001110 | 78  | 4E | N              |    |
| 01001111 | 79  | 4F | O              |    |
| 01010000 | 80  | 50 | P              |    |
| 01010001 | 81  | 51 | Q              |    |
| 01010010 | 82  | 52 | R              |    |
| 01010011 | 83  | 53 | S              |    |
| 01010100 | 84  | 54 | T              |    |
| 01010101 | 85  | 55 | U              |    |
| 01010110 | 86  | 56 | V              |    |
| 01010111 | 87  | 57 | W              |    |
| 01011000 | 88  | 58 | X              |    |
| 01011001 | 89  | 59 | Y              |    |
| 01011010 | 90  | 5A | Z              |    |
| 01011011 | 91  | 5B | \[             |    |
| 01011100 | 92  | 5C | \\             |    |
| 01011101 | 93  | 5D | \]             |    |
| 01011110 | 94  | 5E | ^              |    |
| 01011111 | 95  | 5F | \_             |    |
| 01100000 | 96  | 60 | \`             |    |
| 01100001 | 97  | 61 | a              |    |
| 01100010 | 98  | 62 | b              |    |
| 01100011 | 99  | 63 | c              |    |
| 01100100 | 100 | 64 | d              |    |
| 01100101 | 101 | 65 | e              |    |
| 01100110 | 102 | 66 | f              |    |
| 01100111 | 103 | 67 | g              |    |
| 01101000 | 104 | 68 | h              |    |
| 01101001 | 105 | 69 | i              |    |
| 01101010 | 106 | 6A | j              |    |
| 01101011 | 107 | 6B | k              |    |
| 01101100 | 108 | 6C | l              |    |
| 01101101 | 109 | 6D | m              |    |
| 01101110 | 110 | 6E | n              |    |
| 01101111 | 111 | 6F | o              |    |
| 01110000 | 112 | 70 | p              |    |
| 01110001 | 113 | 71 | q              |    |
| 01110010 | 114 | 72 | r              |    |
| 01110011 | 115 | 73 | s              |    |
| 01110100 | 116 | 74 | t              |    |
| 01110101 | 117 | 75 | u              |    |
| 01110110 | 118 | 76 | v              |    |
| 01110111 | 119 | 77 | w              |    |
| 01111000 | 120 | 78 | x              |    |
| 01111001 | 121 | 79 | y              |    |
| 01111010 | 122 | 7A | z              |    |
| 01111011 | 123 | 7B | \{             |    |
| 01111100 | 124 | 7C | \|             |    |
| 01111101 | 125 | 7D | \}             |    |
| 01111110 | 126 | 7E | ~              |    |

#### 1.2 转义字符

​`printf("a = %%d", 3);// a = %d`​​

```c
#include <stdio.h>

int main(){
    char c = '\n';
    printf("%c", c);
    c = '\'';
    printf("%c", c);
    c = '\t';
    printf("%c", c);
    c = '\\';
    printf("%c", c);
    c = '\a';
    printf("%c", c);
    return 0;
}
```

#### 1.3 0        '0'       '\0'的区别

> '0'    ==    48
>
> '\0'   ==    0   空字符

## 2. 字符串常量

> &quot;abcdef&quot;            &quot;123456&quot;

### 2.1 "xxx" 表示的是字符串首字符的地址

### 2.2 为什么char*存储字符串

```c
#include <stdio.h>

int main() {
    char *p = "abcdef"; // 地址存放到指针变量中
    p++;
    printf("%c", *p); // b
    return 0;
}
```

### 2.3 计算字符串的长度

```c
#include <stdio.h>
#include <string.h>

int main() {
    char *p = "\\\a\0\n\012a0";
    printf("%d ", sizeof(p));                // 4
    printf("%d ", sizeof("\\\a\0\n\012a0")); // 8
    int n = strlen(p);
    printf("%d ", n); // 2
    p++;
    p++;
    p++;
    n = strlen(p);
    printf("%d ", n); // 4
    return 0;
}
```

## 3.字符数组和字符串常量的区别

### 3.1 常量区

不可修改

* 整形常量      ​ 10     123      -1234     0
* 浮点常量        1.234            1.111
* 字符常量        ​ 'a'              '8'
* 字符串常量           &quot;abcdef&quot;
* 地址常量              &amp;a      数组名       函数名

### 3.2 字符数组和字符串常量

```c
#include <stdio.h>
#include <string.h>

int main() {
    char buf[10] = "abcdef";
    char *p = "abcdef";
    (*buf)++;
    (*p)++; // 字符常量不可修改
    return 0;
}
```

#### const

```c
#include <stdio.h>
#include <string.h>

int main() {
    char a = 'a';
    char b = 'b';
    const char *pa = &a; //*pa不可修改
    pa = &b;
    *pa = 'c';
    char const *pb = &a; //*pb不可修改
    pb = &a;
    *pb = 'c';
    char *const pc = &a; // pc不可修改
    pc = &b;
    *pc = 'c';
    const char *const pd = &a; //都不可修改
    pd = &b;
    *pd = 'c';
    return 0;
}
```

* const如果在\*左， 那么指针变量可以修改,\*指针变量不可以修改
* const如果在\*右， 那么指针变量不可以修改，\*指针变量可以修改

#### strlen()源码

```c
size_t strlen(const char *str) {
    const char *eos = str;
    while(*eos++);
    return (end - str - 1);
}
```

> size_t 表示的是 unsigned int

空指针

指针变量的值为NULL(0), 禁止访问空指针

#### NULL可以为任意指针赋值

```c
#include <stdio.h>
#include <string.h>
#include <assert.h>

unsigned int m_strlen(char const *str) {
    // if (str == NULL){
    // return 0;
    //}
    assert(str); // 断言
    unsigned int n = 0;
    while (*str != '\0') {
        str++;
        n++;
    }
    return n;
}

int main() {
    char p[100] = "";
    scanf("%s", p);
    int n = m_strlen(p);
    printf("%d", n);
    return 0;
}
```

#### Debug 和 Release模式区别

1. Release 对程序优化了，执行效率更高

2. Debug针对程序员使用， 可以方便调试
